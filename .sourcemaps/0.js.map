{"version":3,"sources":["../../src/pages/spot/spot.module.ts","../../src/components/my-loader/my-loader.module.ts","../../src/components/my-loader/my-loader.ts","../../src/pipes/pipes.module.ts","../../src/pipes/safe-html/safe-html.ts","../../src/pipes/format-date/format-date.ts","../../src/pipes/format-hashtag/format-hashtag.ts","../../src/pipes/format-likes/format-likes.ts","../../src/pipes/format-like-icon/format-like-icon.ts","../../src/pipes/remove-duplicate-station/remove-duplicate-station.ts","../../src/pipes/calculate-distance/calculate-distance.ts","../../src/pipes/format-color-icon/format-color-icon.ts","../../node_modules/rxjs/BehaviorSubject.js","../../src/pages/spot/spot.ts","../../node_modules/rxjs/add/operator/do.js","../../node_modules/rxjs/operator/do.js"],"names":[],"mappings":"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CnC,CAAC;IAED,gCAAa,GAAb,UAAc,IAAI;QAChB,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,eAAe,EAAE,EAAE,UAAU,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QACjF,OAAO,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAGH,eAAC;AAAD,CAAC;AAjIY,QAAQ;IALpB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,WAAW;OACG;KACzB,CAAC;yEAWyC;QACX,kFAAS;QACN,kFAAY;QACtB,2EAAmB;QACjB,sEAAY;QACP,KAAe;AAkH9C;SAjIY,QAAQ,e;;;;;;;;AC3BrB;AACA;AACA;AACA;AACA;AACA,8B;;;;;;;;ACLA;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,SAAS;AACT;AACA,WAAW,kBAAkB;AAC7B;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,WAAW;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,8B","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SpotPage } from './spot';\nimport { MyLoaderComponentModule } from '../../components/my-loader/my-loader.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n@NgModule({\n  declarations: [\n    SpotPage\n  ],\n  imports: [\n    IonicPageModule.forChild(SpotPage),\n    TranslateModule.forChild(),\n    MyLoaderComponentModule,\n    PipesModule\n  ],\n  exports: [\n    SpotPage\n  ]\n})\nexport class SpotPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spot/spot.module.ts","import { NgModule } from '@angular/core';\nimport { IonicModule } from 'ionic-angular';\nimport { MyLoaderComponent } from './my-loader';\n\n\n@NgModule({\n  declarations: [\n    MyLoaderComponent\n  ],\n  imports: [\n    IonicModule,\n  ],\n  exports: [\n    MyLoaderComponent\n  ]\n})\nexport class MyLoaderComponentModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/components/my-loader/my-loader.module.ts","import { Component} from '@angular/core';\n\n/**\n * Generated class for the MyLoaderComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'my-loader',\n  templateUrl: 'my-loader.html'\n})\nexport class MyLoaderComponent {\n\n  constructor() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/my-loader/my-loader.ts","import { NgModule } from '@angular/core';\nimport { SafeHtmlPipe } from './../pipes/safe-html/safe-html';\nimport { FormatDatePipe } from './../pipes/format-date/format-date';\nimport { FormatHashtagPipe } from './../pipes/format-hashtag/format-hashtag';\nimport { FormatLikesPipe } from './format-likes/format-likes';\nimport { FormatLikeIconPipe } from './format-like-icon/format-like-icon';\nimport { RemoveDuplicateStationPipe } from './remove-duplicate-station/remove-duplicate-station';\nimport { CalculateDistancePipe } from './calculate-distance/calculate-distance';\nimport { FormatColorIconPipe } from './format-color-icon/format-color-icon';\n@NgModule({\n    declarations: [SafeHtmlPipe,\n    CalculateDistancePipe,    \n    RemoveDuplicateStationPipe,\n    FormatDatePipe,\n    FormatHashtagPipe,\n    FormatLikesPipe,\n    FormatLikeIconPipe,\n    FormatColorIconPipe],\n\timports: [],\n    exports: [SafeHtmlPipe,\n    CalculateDistancePipe,     \n    RemoveDuplicateStationPipe,\n    FormatDatePipe,\n    FormatHashtagPipe,\n    FormatLikesPipe,\n    FormatLikeIconPipe,\n    FormatColorIconPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n/**\n * Generated class for the SafeHtmlPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'safeHtml',\n})\nexport class SafeHtmlPipe implements PipeTransform {\n\n  constructor(private sanitizer:DomSanitizer){}\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(value: string, ...args) {\n    this.sanitizer.bypassSecurityTrustHtml(value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe-html/safe-html.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment'\n\n/**\n * Generated class for the FormatDatePipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'formatDate',\n})\nexport class FormatDatePipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(timestamp: number, mode:String) {\n    if(timestamp){\n      let timestampStr = timestamp.toString().replace(\"-\",\"\");\n      timestamp = Number(timestampStr);\n      var day = moment(timestamp);\n      if(mode == \"relative\"){\n        return day.fromNow();\n      }else if(mode == \"calendar\"){\n        return day.calendar();\n      }\n\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-date/format-date.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FormatHashtagPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'formatHashtag',\n})\nexport class FormatHashtagPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(value: string, ...args) {\n    let message = value;\n    let rx = /\\b(?:(?:https?|ftps?):\\/\\/|www\\.)\\S+|#(\\w+)\\b/gi;\n    let m;\n    while ((m = rx.exec(value)) !== null) {\n      if (m[1]){\n        message = message.replace(\"#\"+m[1],\"<span class='hashtag'>#\"+m[1]+\"</span>\");\n      }\n   }\n\n    return message;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-hashtag/format-hashtag.ts","import { Pipe, PipeTransform } from '@angular/core';\n/**\n * Generated class for the FormatLikesPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'formatLikes',\n})\nexport class FormatLikesPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(likes: string[]) {\n    if(likes){\n      return likes.length\n    }else{\n      return 0;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-likes/format-likes.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport * as _ from 'lodash'\n\n/**\n * Generated class for the FormatLikeIconPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'formatLikeIcon',\n})\nexport class FormatLikeIconPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(likes: string[], userUid:string) {\n\n    const index = _.indexOf(likes, userUid);\n    if(index < 0){\n      return 'ios-thumbs-up-outline';\n    }else{\n      return 'thumbs-up';\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-like-icon/format-like-icon.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { Station } from '../../models/station';\n\nimport * as _ from 'lodash';\n\n/**\n * Generated class for the RemoveDuplicateStationPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'removeDuplicateStation',\n})\nexport class RemoveDuplicateStationPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(stations: Station[], ...args) {\n    return _.uniqWith(stations, function(first, second){\n      return first.name === second.name;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/remove-duplicate-station/remove-duplicate-station.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the CalculateDistancePipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'calculateDistance',\n})\nexport class CalculateDistancePipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(latLong: string, myLatitude:string, myLongitude:string) {\n    let latLongLst = latLong.split(\";\");\n    let latitude = latLongLst[0];\n    let longitude = latLongLst[1];\n    let p = Math.PI / 180;\n    let c = Math.cos;\n    let a = 0.5 - c((Number(myLatitude)-Number(latitude)) * p) / 2 + c(Number(latitude) * p) *c((Number(myLatitude)) * p) * (1 - c(((Number(myLongitude)- Number(longitude)) * p))) / 2;\n    let dis = (12742 * Math.asin(Math.sqrt(a))); // 2 * R; R = 6371 km\n    if(dis > 1){\n      return Math.round(dis)+\" Km\";\n    }else{\n      return Math.round(dis * 1000)+\" m\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/calculate-distance/calculate-distance.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport * as _ from 'lodash'\n\n/**\n * Generated class for the FormatColorIconPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'formatColorIcon',\n})\nexport class FormatColorIconPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(likes: string[], userUid:string) {\n    const index = _.indexOf(likes, userUid);\n    if(index < 0){\n      return 'grey';\n    }else{\n      return 'blue';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-color-icon/format-color-icon.ts","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        _super.call(this);\n        this._value = _value;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/BehaviorSubject.js\n// module id = 703\n// module chunks = 0 1 6","import { Component } from '@angular/core';\nimport { NavController, NavParams, ModalController, IonicPage } from 'ionic-angular';\nimport { SpotProvider } from '../../providers/spot/spotProvider';\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject'\nimport { AuthProvider } from '../../providers/auth/auth';\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/take';\n\n\nimport * as _ from 'lodash'\nimport { Subscription } from 'rxjs/Subscription';\n\n\n\n/**\n * Generated class for the SpotPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n \n@IonicPage()\n@Component({\n  selector: 'page-spot',\n  templateUrl: 'spot.html',\n})\nexport class SpotPage {\n\n  searchSpots: any;\n  spots = new BehaviorSubject([]);\n  batch = 15        // size of each query\n  lastDate = ''      // key to offset next query from\n  finished = false  // boolean when end of database is reached\n  userUid: any;\n  subscription: Subscription;\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public spotProvider: SpotProvider,\n              public db: AngularFireDatabase,\n              public auth: AuthProvider,\n              public modalCtrl: ModalController) {\n\n    this.searchSpots = true;\n\n    const userAuth = this.auth.user.subscribe(user => {\n      if (user) {\n        this.userUid = user.uid;\n          this.getSpots(null,null);\n      }else{\n        this.userUid = null;\n      }\n      userAuth.unsubscribe();\n    });\n  }\n\n  ionViewWillLeave() {\n    this.subscription.unsubscribe();\n  }\n\n  ionViewDidWi\n\n  doRefresh(refresher) {\n    this.finished = false;\n    this.lastDate = '';\n    this.spots = new BehaviorSubject([]);\n    this.getSpots(null,refresher);\n  }\n\n\n  doInfinite(infiniteScroll) {\n    this.getSpots(infiniteScroll,null);\n  }\n\n  goDetailSpot(spot){\n    this.navCtrl.push('SpotDetailPage', {spotKey : spot.id});\n  }\n\n  incrementLike(spot){\n    if(!spot[\"likes\"]){\n      spot[\"likes\"] = [];\n    }\n    const index = _.indexOf(spot[\"likes\"], this.userUid);\n    if(index < 0){\n      spot[\"likes\"].push(this.userUid);\n      this.spotProvider.incrementLikes(spot.id,spot);\n    }else{\n      _.pullAt(spot[\"likes\"], index);\n      this.spotProvider.incrementLikes(spot.id,spot);\n    }\n  }\n \n\n  private getSpots(infiniteScroll,refresher) {\n    if (this.finished){\n      if(infiniteScroll){\n        infiniteScroll.complete();\n      }\n      return\n    } \n    const getSpotList = this.spotProvider\n        .getSpotList(this.batch+1, this.lastDate).snapshotChanges()\n        .map(spots => {\n          return spots.map(s => {\n            const data = s.payload.doc.data();\n            const id = s.payload.doc.id;\n            return { id, ...data };\n          });\n        })\n        .do(spots => {\n          if(spots.length > 0){\n            /// set the lastKey in preparation for next query \n            this.lastDate = _.last(spots).dateUpdate;\n            const newSpots = _.slice(spots, 0, this.batch)\n            /// Get current spots in BehaviorSubject\n            const currentSpots = this.spots.getValue()\n            /// If data is identical, stop making queries\n            if (this.lastDate == _.last(newSpots).dateUpdate) {\n              this.finished = true\n            }\n            /// Concatenate new spots to current spots\n            this.spots.next( _.concat(currentSpots, newSpots) )\n          }\n        });\n        if(infiniteScroll){\n          this.subscription = getSpotList.subscribe(() => {\n            infiniteScroll.complete();\n          })\n        }else{ \n          this.subscription = getSpotList.subscribe((spots) => {\n            this.spots.next(spots);\n            this.searchSpots = false\n            if(refresher){\n              refresher.complete();\n            }\n          });\n        }\n\n  }\n\n\n  goFiltreSpot(){\n    this.navCtrl.push('SpotFilterPage');\n  }\n\n  goAddSpot(){\n    this.navCtrl.push('AddSpotPage');\n  }\n\n  openModalLike(spot) {\n    let myModal = this.modalCtrl.create('ModalLikePage', { 'usersUid': spot.likes });\n    myModal.present();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spot/spot.ts","\"use strict\";\nvar Observable_1 = require('../../Observable');\nvar do_1 = require('../../operator/do');\nObservable_1.Observable.prototype.do = do_1._do;\nObservable_1.Observable.prototype._do = do_1._do;\n//# sourceMappingURL=do.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/add/operator/do.js\n// module id = 705\n// module chunks = 0 6","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subscriber_1 = require('../Subscriber');\n/* tslint:enable:max-line-length */\n/**\n * Perform a side effect for every emission on the source Observable, but return\n * an Observable that is identical to the source.\n *\n * <span class=\"informal\">Intercepts each emission on the source and runs a\n * function, but returns an output which is identical to the source as long as errors don't occur.</span>\n *\n * <img src=\"./img/do.png\" width=\"100%\">\n *\n * Returns a mirrored Observable of the source Observable, but modified so that\n * the provided Observer is called to perform a side effect for every value,\n * error, and completion emitted by the source. Any errors that are thrown in\n * the aforementioned Observer or handlers are safely sent down the error path\n * of the output Observable.\n *\n * This operator is useful for debugging your Observables for the correct values\n * or performing other side effects.\n *\n * Note: this is different to a `subscribe` on the Observable. If the Observable\n * returned by `do` is not subscribed, the side effects specified by the\n * Observer will never happen. `do` therefore simply spies on existing\n * execution, it does not trigger an execution to happen like `subscribe` does.\n *\n * @example <caption>Map every click to the clientX position of that click, while also logging the click event</caption>\n * var clicks = Rx.Observable.fromEvent(document, 'click');\n * var positions = clicks\n *   .do(ev => console.log(ev))\n *   .map(ev => ev.clientX);\n * positions.subscribe(x => console.log(x));\n *\n * @see {@link map}\n * @see {@link subscribe}\n *\n * @param {Observer|function} [nextOrObserver] A normal Observer object or a\n * callback for `next`.\n * @param {function} [error] Callback for errors in the source.\n * @param {function} [complete] Callback for the completion of the source.\n * @return {Observable} An Observable identical to the source, but runs the\n * specified Observer or callback(s) for each item.\n * @method do\n * @name do\n * @owner Observable\n */\nfunction _do(nextOrObserver, error, complete) {\n    return this.lift(new DoOperator(nextOrObserver, error, complete));\n}\nexports._do = _do;\nvar DoOperator = (function () {\n    function DoOperator(nextOrObserver, error, complete) {\n        this.nextOrObserver = nextOrObserver;\n        this.error = error;\n        this.complete = complete;\n    }\n    DoOperator.prototype.call = function (subscriber, source) {\n        return source.subscribe(new DoSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n    };\n    return DoOperator;\n}());\n/**\n * We need this JSDoc comment for affecting ESDoc.\n * @ignore\n * @extends {Ignored}\n */\nvar DoSubscriber = (function (_super) {\n    __extends(DoSubscriber, _super);\n    function DoSubscriber(destination, nextOrObserver, error, complete) {\n        _super.call(this, destination);\n        var safeSubscriber = new Subscriber_1.Subscriber(nextOrObserver, error, complete);\n        safeSubscriber.syncErrorThrowable = true;\n        this.add(safeSubscriber);\n        this.safeSubscriber = safeSubscriber;\n    }\n    DoSubscriber.prototype._next = function (value) {\n        var safeSubscriber = this.safeSubscriber;\n        safeSubscriber.next(value);\n        if (safeSubscriber.syncErrorThrown) {\n            this.destination.error(safeSubscriber.syncErrorValue);\n        }\n        else {\n            this.destination.next(value);\n        }\n    };\n    DoSubscriber.prototype._error = function (err) {\n        var safeSubscriber = this.safeSubscriber;\n        safeSubscriber.error(err);\n        if (safeSubscriber.syncErrorThrown) {\n            this.destination.error(safeSubscriber.syncErrorValue);\n        }\n        else {\n            this.destination.error(err);\n        }\n    };\n    DoSubscriber.prototype._complete = function () {\n        var safeSubscriber = this.safeSubscriber;\n        safeSubscriber.complete();\n        if (safeSubscriber.syncErrorThrown) {\n            this.destination.error(safeSubscriber.syncErrorValue);\n        }\n        else {\n            this.destination.complete();\n        }\n    };\n    return DoSubscriber;\n}(Subscriber_1.Subscriber));\n//# sourceMappingURL=do.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/operator/do.js\n// module id = 706\n// module chunks = 0 6"],"sourceRoot":""}