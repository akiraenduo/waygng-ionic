{"version":3,"sources":["../../src/pages/spot-filter/spot-filter.module.ts","../../src/components/components.module.ts","../../src/components/my-loader/my-loader.ts","../../src/components/my-header-loader/my-header-loader.ts","../../src/pipes/pipes.module.ts","../../src/pipes/safe-html/safe-html.ts","../../src/pipes/show-two-time/show-two-time.ts","../../src/pipes/format-date/format-date.ts","../../src/pipes/format-hashtag/format-hashtag.ts","../../src/pipes/format-likes/format-likes.ts","../../src/pipes/format-like-icon/format-like-icon.ts","../../src/pipes/remove-duplicate-station/remove-duplicate-station.ts","../../src/pipes/calculate-distance/calculate-distance.ts","../../src/pipes/format-color-icon/format-color-icon.ts","../../src/pipes/format-background-notif/format-background-notif.ts","../../src/pipes/format-number-notification/format-number-notification.ts","../../src/pipes/format-type-notification/format-type-notification.ts","../../node_modules/rxjs/BehaviorSubject.js","../../src/pages/spot-filter/spot-filter.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACa;AACN;AACD;AACuB;AACf;AAmBvD,IAAa,oBAAoB;IAAjC;IAAoC,CAAC;IAAD,2BAAC;AAAD,CAAC;AAAxB,oBAAoB;IAfhC,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oEAAc;SACf;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,oEAAc,CAAC;YACxC,4EAAe,CAAC,QAAQ,EAAE;YAC1B,uFAAgB;YAChB,wEAAW;SAEZ;QACD,OAAO,EAAE;YACP,oEAAc;SACf;KACF,CAAC;GACW,oBAAoB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;ACxBQ;AACiB;AACd;AACkC;AAQ9E,IAAa,gBAAgB;IAA7B;IAA+B,CAAC;IAAD,uBAAC;AAAD,CAAC;AAAnB,gBAAgB;IAP5B,uEAAQ,CAAC;QACT,YAAY,EAAE,CAAC,+EAAiB;YAC7B,mGAAuB,CAAC;QAC3B,OAAO,EAAE,CAAC,kEAAW,CAAC;QACtB,OAAO,EAAE,CAAC,+EAAiB;YACxB,mGAAuB,CAAC;KAC3B,CAAC;GACW,gBAAgB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;ACXY;AAEzC;;;;;GAKG;AAKH,IAAa,iBAAiB;IAE5B;IAEA,CAAC;IAEH,wBAAC;AAAD,CAAC;AANY,iBAAiB;IAJ7B,wEAAS,CAAC;QACT,QAAQ,EAAE,WAAW;OACQ;KAC9B,CAAC;;AAOD;SANY,iBAAiB,W;;;;;;;;;;;;;;;;;;;ACZY;AAE1C;;;;;GAKG;AAKH,IAAa,uBAAuB;IAIlC;IACA,CAAC;IAEH,8BAAC;AAAD,CAAC;AAPY,uBAAuB;IAJnC,wEAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;OACQ;KACrC,CAAC;;AAQD;SAPY,uBAAuB,Y;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZK;AACqB;AACE;AACI;AACS;AACf;AACW;AACwB;AACjB;AACJ;AACkB;AACS;AACN;AA4BjG,IAAa,WAAW;IAAxB;IAA0B,CAAC;IAAD,kBAAC;AAAD,CAAC;AAAd,WAAW;IA3BvB,uEAAQ,CAAC;QACN,YAAY,EAAE,CAAC,gFAAY;YAC3B,qFAAe;YACf,qGAAqB;YACrB,sHAA0B;YAC1B,sFAAc;YACd,+FAAiB;YACjB,mFAAe;YACf,8FAAkB;YAClB,iGAAmB;YACnB,oHAAyB;YACzB,6HAA4B;YAC5B,uHAA0B,CAAC;QAC9B,OAAO,EAAE,EAAE;QACR,OAAO,EAAE,CAAC,gFAAY;YACtB,qFAAe;YACf,qGAAqB;YACrB,sHAA0B;YAC1B,sFAAc;YACd,+FAAiB;YACjB,mFAAe;YACf,8FAAkB;YAClB,iGAAmB;YACnB,oHAAyB;YACzB,6HAA4B;YAC5B,uHAA0B,CAAC;KAC9B,CAAC;GACW,WAAW,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;ACxC4B;AACK;AAEzD;;;;;GAKG;AAIH,IAAa,YAAY;IAEvB,sBAAoB,SAAsB;QAAtB,cAAS,GAAT,SAAS,CAAa;IAAE,CAAC;IAC7C;;OAEG;IACH,gCAAS,GAAT,UAAU,KAAa;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAC9B,IAAI,CAAC,SAAS,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IAChD,CAAC;IACH,mBAAC;AAAD,CAAC;AATY,YAAY;IAHxB,mEAAI,CAAC;QACJ,IAAI,EAAE,UAAU;KACjB,CAAC;qCAG8B,+EAAY;GAF/B,YAAY,CASxB;AATwB;;;;;;;;;;;;;;;;;ACZ2B;AAEpD;;;;;GAKG;AAIH,IAAa,eAAe;IAA5B;IAWA,CAAC;IAVC;;OAEG;IACH,mCAAS,GAAT,UAAU,QAAgB;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QACjC,EAAE,EAAC,QAAQ,CAAC,MAAM,IAAI,CAAC,CAAC,EAAC;YACvB,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAC,GAAG,GAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC;QAAA,IAAI,EAAC;YACJ,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;QACpB,CAAC;IACH,CAAC;IACH,sBAAC;AAAD,CAAC;AAXY,eAAe;IAH3B,mEAAI,CAAC;QACJ,IAAI,EAAE,aAAa;KACpB,CAAC;GACW,eAAe,CAW3B;AAX2B;;;;;;;;;;;;;;;;;;;ACXwB;AACpB;AAEhC;;;;;GAKG;AAIH,IAAa,cAAc;IAA3B;IAiBA,CAAC;IAhBC;;OAEG;IACH,kCAAS,GAAT,UAAU,SAAiB,EAAE,IAAW;QACtC,EAAE,EAAC,SAAS,CAAC,EAAC;YACZ,IAAI,YAAY,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,GAAG,EAAC,EAAE,CAAC,CAAC;YACxD,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;YACjC,IAAI,GAAG,GAAG,oCAAM,CAAC,SAAS,CAAC,CAAC;YAC5B,EAAE,EAAC,IAAI,IAAI,UAAU,CAAC,EAAC;gBACrB,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;YACvB,CAAC;YAAA,IAAI,CAAC,EAAE,EAAC,IAAI,IAAI,UAAU,CAAC,EAAC;gBAC3B,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;YACxB,CAAC;QAEH,CAAC;IACH,CAAC;IACH,qBAAC;AAAD,CAAC;AAjBY,cAAc;IAH1B,mEAAI,CAAC;QACJ,IAAI,EAAE,YAAY;KACnB,CAAC;GACW,cAAc,CAiB1B;AAjB0B;;;;;;;;;;;;;;;;;ACZyB;AAEpD;;;;;GAKG;AAIH,IAAa,iBAAiB;IAA9B;IAgBA,CAAC;IAfC;;OAEG;IACH,qCAAS,GAAT,UAAU,KAAa;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAC9B,IAAI,OAAO,GAAG,KAAK,CAAC;QACpB,IAAI,EAAE,GAAG,iDAAiD,CAAC;QAC3D,IAAI,CAAC,CAAC;QACN,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC;YACrC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC;gBACR,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,GAAC,CAAC,CAAC,CAAC,CAAC,EAAC,yBAAyB,GAAC,CAAC,CAAC,CAAC,CAAC,GAAC,SAAS,CAAC,CAAC;YAC/E,CAAC;QACJ,CAAC;QAEA,MAAM,CAAC,OAAO,CAAC;IACjB,CAAC;IACH,wBAAC;AAAD,CAAC;AAhBY,iBAAiB;IAH7B,mEAAI,CAAC;QACJ,IAAI,EAAE,eAAe;KACtB,CAAC;GACW,iBAAiB,CAgB7B;AAhB6B;;;;;;;;;;;;;;;;;ACXsB;AACpD;;;;;GAKG;AAIH,IAAa,eAAe;IAA5B;IAWA,CAAC;IAVC;;OAEG;IACH,mCAAS,GAAT,UAAU,KAAe;QACvB,EAAE,EAAC,KAAK,CAAC,EAAC;YACR,MAAM,CAAC,KAAK,CAAC,MAAM;QACrB,CAAC;QAAA,IAAI,EAAC;YACJ,MAAM,CAAC,CAAC,CAAC;QACX,CAAC;IACH,CAAC;IACH,sBAAC;AAAD,CAAC;AAXY,eAAe;IAH3B,mEAAI,CAAC;QACJ,IAAI,EAAE,aAAa;KACpB,CAAC;GACW,eAAe,CAW3B;AAX2B;;;;;;;;;;;;;;;;;;;ACVwB;AACzB;AAE3B;;;;GAIG;AAIH,IAAa,kBAAkB;IAA/B;IAcA,CAAC;IAbC;;OAEG;IACH,sCAAS,GAAT,UAAU,KAAe,EAAE,OAAc;QAEvC,IAAM,KAAK,GAAG,+CAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACxC,EAAE,EAAC,KAAK,GAAG,CAAC,CAAC,EAAC;YACZ,MAAM,CAAC,uBAAuB,CAAC;QACjC,CAAC;QAAA,IAAI,EAAC;YACJ,MAAM,CAAC,WAAW,CAAC;QACrB,CAAC;IAEH,CAAC;IACH,yBAAC;AAAD,CAAC;AAdY,kBAAkB;IAH9B,mEAAI,CAAC;QACJ,IAAI,EAAE,gBAAgB;KACvB,CAAC;GACW,kBAAkB,CAc9B;AAd8B;;;;;;;;;;;;;;;;;;;ACXqB;AAGxB;AAE5B;;;;;GAKG;AAIH,IAAa,0BAA0B;IAAvC;IASA,CAAC;IARC;;OAEG;IACH,8CAAS,GAAT,UAAU,QAAmB;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QACpC,MAAM,CAAC,gDAAU,CAAC,QAAQ,EAAE,UAAS,KAAK,EAAE,MAAM;YAChD,MAAM,CAAC,KAAK,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,CAAC;QACpC,CAAC,CAAC,CAAC;IACL,CAAC;IACH,iCAAC;AAAD,CAAC;AATY,0BAA0B;IAHtC,mEAAI,CAAC;QACJ,IAAI,EAAE,wBAAwB;KAC/B,CAAC;GACW,0BAA0B,CAStC;AATsC;;;;;;;;;;;;;;;;;ACda;AAEpD;;;;;GAKG;AAIH,IAAa,qBAAqB;IAAlC;IAkBA,CAAC;IAjBC;;OAEG;IACH,yCAAS,GAAT,UAAU,OAAe,EAAE,UAAiB,EAAE,WAAkB;QAC9D,IAAI,UAAU,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,QAAQ,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;QAC9B,IAAI,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC;QACtB,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;QACjB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,GAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAE,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,GAAE,MAAM,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACpL,IAAI,GAAG,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,qBAAqB;QAClE,EAAE,EAAC,GAAG,GAAG,CAAC,CAAC,EAAC;YACV,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAC,KAAK,CAAC;QAC/B,CAAC;QAAA,IAAI,EAAC;YACJ,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAC,IAAI,CAAC;QACrC,CAAC;IACH,CAAC;IACH,4BAAC;AAAD,CAAC;AAlBY,qBAAqB;IAHjC,mEAAI,CAAC;QACJ,IAAI,EAAE,mBAAmB;KAC1B,CAAC;GACW,qBAAqB,CAkBjC;AAlBiC;;;;;;;;;;;;;;;;;;;ACXkB;AACzB;AAE3B;;;;GAIG;AAIH,IAAa,mBAAmB;IAAhC;IAYA,CAAC;IAXC;;OAEG;IACH,uCAAS,GAAT,UAAU,KAAe,EAAE,OAAc;QACvC,IAAM,KAAK,GAAG,+CAAS,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QACxC,EAAE,EAAC,KAAK,GAAG,CAAC,CAAC,EAAC;YACZ,MAAM,CAAC,MAAM,CAAC;QAChB,CAAC;QAAA,IAAI,EAAC;YACJ,MAAM,CAAC,MAAM,CAAC;QAChB,CAAC;IACH,CAAC;IACH,0BAAC;AAAD,CAAC;AAZY,mBAAmB;IAH/B,mEAAI,CAAC;QACJ,IAAI,EAAE,iBAAiB;KACxB,CAAC;GACW,mBAAmB,CAY/B;AAZ+B;;;;;;;;;;;;;;;;;ACXoB;AAEpD;;;;GAIG;AAIH,IAAa,yBAAyB;IAAtC;IAWA,CAAC;IAVC;;OAEG;IACH,6CAAS,GAAT,UAAU,IAAa;QAAE,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAC9B,EAAE,EAAC,IAAI,CAAC,EAAC;YACP,MAAM,CAAC,qEAAqE,CAAC;QAC/E,CAAC;QACD,MAAM,CAAC,uEAAuE,CAAC;IAEjF,CAAC;IACH,gCAAC;AAAD,CAAC;AAXY,yBAAyB;IAHrC,mEAAI,CAAC;QACJ,IAAI,EAAE,uBAAuB;KAC9B,CAAC;GACW,yBAAyB,CAWrC;AAXqC;;;;;;;;;;;;;;;;;ACVc;AAEpD;;;;GAIG;AAIH,IAAa,4BAA4B;IAAzC;IASA,CAAC;IARC;;OAEG;IACH,gDAAS,GAAT,UAAU,KAAa;QACrB,EAAE,EAAC,KAAK,GAAG,CAAC,CAAC,EAAC;YACZ,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IACH,mCAAC;AAAD,CAAC;AATY,4BAA4B;IAHxC,mEAAI,CAAC;QACJ,IAAI,EAAE,0BAA0B;KACjC,CAAC;GACW,4BAA4B,CASxC;AATwC;;;;;;;;;;;;;;;;;ACVW;AAEpD;;;;GAIG;AAIH,IAAa,0BAA0B;IAAvC;IAUA,CAAC;IATC;;OAEG;IACH,8CAAS,GAAT,UAAU,IAAY;QACpB,EAAE,EAAC,IAAI,IAAI,MAAM,CAAC,EAAC;YACjB,MAAM,CAAC,iBAAiB,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,oBAAoB,CAAC;IAC9B,CAAC;IACH,iCAAC;AAAD,CAAC;AAVY,0BAA0B;IAHtC,mEAAI,CAAC;QACJ,IAAI,EAAE,wBAAwB;KAC/B,CAAC;GACW,0BAA0B,CAUtC;AAVsC;;;;;;;;;ACVvC;AACA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChDqD;AACI;AACP;AACe;AACxB;AAEc;AAE5B;AACsC;AAIjE;;;;;GAKG;AAOH,IAAa,cAAc;IAkBzB,wBAAmB,OAAsB,EACtB,SAAoB,EACpB,QAAkB,EAClB,YAA0B,EAC1B,YAA0B,EAC1B,OAAgB;QALnC,iBAsBC;QAtBkB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAU;QAClB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,iBAAY,GAAZ,YAAY,CAAc;QAC1B,YAAO,GAAP,OAAO,CAAS;QAnBnC,oBAAe,GAAO,EAAE,CAAC;QAKzB,kBAAa,GAAG,IAAI,qEAAe,CAAC,EAAE,CAAC,CAAC;QACxC,UAAK,GAAG,EAAE,EAAQ,qBAAqB;QACvC,aAAQ,GAAG,KAAK,EAAE,0CAA0C;QAE5D,oBAAe,GAAY,KAAK,CAAC;QAGjC,YAAO,GAAG,IAAI,CAAC;QASD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QAEpB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;aAC1B,IAAI,CAAC,UAAC,OAAO;YACZ,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;gBACvB,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;gBAC5B,KAAI,CAAC,kBAAkB,CAAC,KAAI,CAAC,OAAO,CAAC,CAAC;YACxC,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACtB,CAAC;QACH,CAAC,CAAC;QAEF,IAAI,CAAC,OAAO,EAAE,CAAC;IAE7B,CAAC;IAED,yCAAgB,GAAhB;QACE,EAAE,EAAC,IAAI,CAAC,YAAY,CAAC,EAAC;YACpB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QAClC,CAAC;IACH,CAAC;IAED,2CAAkB,GAAlB,UAAmB,OAAc;QAAjC,iBAaC;QAZC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC,eAAe,EAAE,CAAC,GAAG,CAAC,uBAAa;YAC/F,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,WAAC;gBACxB,IAAM,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;gBAClC,IAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC5B,KAAI,CAAC,eAAe,CAAC,IAAI,YAAG,EAAE,QAAK,IAAI,EAAG,CAAC;gBAC3C,MAAM,YAAG,EAAE,QAAK,IAAI,EAAG;YACzB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,EAAE,CAAC,uBAAa;YACjB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACvB,CAAC,CAAC;IACJ,CAAC;IAED,qCAAY,GAAZ,UAAa,OAAc;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,eAAe,EAAE,CAAC,GAAG,CAAC,kBAAQ;YAClG,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAC;gBACnB,IAAM,IAAI,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;gBAClC,IAAM,EAAE,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;gBAC5B,MAAM,YAAG,EAAE,QAAK,IAAI,EAAG;YACzB,CAAC,CAAC,CAAC;QACL,CAAC,CAAC;IACJ,CAAC;IAED,uCAAc,GAAd;QACE,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,IAAI,qEAAe,CAAC,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IACxC,CAAC;IAED,yCAAgB,GAAhB;QACE,EAAE,EAAC,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,EAAC;YAClC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;YAC3B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACxC,CAAC;IACH,CAAC;IAED,iCAAQ,GAAR,UAAS,EAAE;QACT,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,wCAAwC;QACxC,IAAI,KAAK,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAE5B,yDAAyD;QACzD,EAAE,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QAAA,IAAI,EAAC;YACJ,IAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC;IACH,CAAC;IAED,iCAAQ,GAAR,UAAS,OAAO;QACd,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,cAAc,GAAG,OAAO,CAAC,IAAI,CAAC;QACnC,IAAI,CAAC,kBAAkB,GAAG,OAAO,CAAC,EAAE,CAAC;QACrC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,aAAa,GAAG,IAAI,qEAAe,CAAC,EAAE,CAAC,CAAC;QAE7C,EAAE,EAAC,IAAI,CAAC,eAAe,CAAC,MAAM,IAAI,CAAC,IAAI,CAAC,4CAAM,CAAC,IAAI,CAAC,eAAe,EAAE,EAAC,IAAI,EAAC,IAAI,CAAC,kBAAkB,EAAC,CAAC,CAAC,EAAC;YACrG,IAAM,cAAc,GAAG,4CAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;YACpD,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QACxE,CAAC;QAED,IAAM,YAAY,GAAgB;YAChC,IAAI,EAAC,OAAO,CAAC,IAAI;YACjB,GAAG,EAAC,OAAO,CAAC,GAAG;SAChB;QACD,EAAE,EAAC,OAAO,CAAC,IAAI,CAAC,EAAC;YACf,YAAY,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACnC,CAAC;QACD,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,IAAI,CAAC,OAAO,EAAC,OAAO,CAAC,EAAE,EAAC,YAAY,CAAC,CAAC;QAC1E,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IAC9B,CAAC;IAED,mCAAU,GAAV,UAAW,cAAc;QACvB,EAAE,EAAC,IAAI,CAAC,kBAAkB,CAAC,EAAC;YAC1B,IAAI,CAAC,gBAAgB,CAAC,cAAc,CAAC,CAAC;QACxC,CAAC;IACH,CAAC;IAGO,yCAAgB,GAAxB,UAAyB,cAAc;QAAvC,iBAkCC;QAjCC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAC;YACjB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,EAAE,EAAC,cAAc,CAAC,EAAC;gBACjB,cAAc,CAAC,QAAQ,EAAE,CAAC;YAC5B,CAAC;YACD,MAAM;QACR,CAAC;QACD,IAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,kBAAkB,EAAC,IAAI,CAAC,OAAO,EAAC,IAAI,CAAC,KAAK,GAAC,CAAC,CAAC,CAAC,EAAE,CAAC,cAAI;YACzG,IAAI,QAAQ,GAAG,4CAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClC,EAAE,EAAC,QAAQ,CAAC,EAAC;gBACX,KAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC;gBAE/B,IAAM,QAAQ,GAAG,6CAAO,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,KAAI,CAAC,KAAK,CAAC,CAAC;gBACpD,IAAM,YAAY,GAAG,KAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC;gBACnD,IAAI,WAAW,GAAG,4CAAM,CAAC,QAAQ,CAAC,CAAC;gBAEnC,EAAE,CAAC,CAAC,KAAI,CAAC,OAAO,IAAI,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;oBACvC,KAAI,CAAC,QAAQ,GAAG,IAAI;gBACtB,CAAC;gBACD,IAAM,WAAW,GAAG,2CAAK,CAAC,QAAQ,EAAC,MAAM,CAAC,CAAC;gBAC3C,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,8CAAQ,CAAC,YAAY,EAAC,WAAW,CAAC,CAAC,CAAC;YAC9D,CAAC;QAEH,CAAC,CAAC,CAAC;QACD,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,SAAS,CAAC;YACxC,EAAE,EAAC,cAAc,CAAC,EAAC;gBACjB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,cAAc,CAAC,QAAQ,EAAE,CAAC;YAC5B,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACvB,CAAC;QACH,CAAC,CAAC;IACN,CAAC;IAED,qCAAY,GAAZ,UAAa,KAAK;QAChB,IAAI,MAAM,GAAG,KAAK,CAAC,aAAa,CAAC,EAAE,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,gBAAgB,EAAE,EAAC,OAAO,EAAG,MAAM,EAAC,CAAC,CAAC;IAC1D,CAAC;IAED,gCAAO,GAAP;QAAA,iBAUC;QATC,UAAU,CAAC;YACT,KAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;YAC1B,KAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACvB,CAAC,EAAC,IAAI,CAAC,CAAC;QAGR,IAAI,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,UAAC,IAAI;YAC5C,KAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;QAC5B,CAAC,CAAC;IACJ,CAAC;IAEH,qBAAC;AAAD,CAAC;AA1LyB;IAAvB,0EAAS,CAAC,WAAW,CAAC;;iDAAgB;AAF5B,cAAc;IAJ1B,wEAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;OACG;KAChC,CAAC;yEAmByC;QACX,yEAAS;QACV,kFAAQ;QACJ,kFAAY;QACZ,iEAAY;QACjB,OAAO;AAqKpC;SA5LY,cAAc,gB","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SpotFilterPage } from './spot-filter';\nimport { ComponentsModule } from '../../components/components.module';\nimport { PipesModule } from '../../pipes/pipes.module';\n\n\n\n@NgModule({\n  declarations: [\n    SpotFilterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SpotFilterPage),\n    TranslateModule.forChild(),\n    ComponentsModule,\n    PipesModule\n\n  ],\n  exports: [\n    SpotFilterPage\n  ]\n})\nexport class SpotFilterPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spot-filter/spot-filter.module.ts","import { NgModule } from '@angular/core';\nimport { MyLoaderComponent } from './my-loader/my-loader';\nimport { IonicModule } from 'ionic-angular';\nimport { MyHeaderLoaderComponent } from './my-header-loader/my-header-loader';\n@NgModule({\n\tdeclarations: [MyLoaderComponent,\n    MyHeaderLoaderComponent],\n\timports: [IonicModule],\n\texports: [MyLoaderComponent,\n    MyHeaderLoaderComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component} from '@angular/core';\n\n/**\n * Generated class for the MyLoaderComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'my-loader',\n  templateUrl: 'my-loader.html'\n})\nexport class MyLoaderComponent {\n\n  constructor() {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/my-loader/my-loader.ts","import { Component } from '@angular/core';\n\n/**\n * Generated class for the MyHeaderLoaderComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'my-header-loader',\n  templateUrl: 'my-header-loader.html'\n})\nexport class MyHeaderLoaderComponent {\n\n  text: string;\n\n  constructor() {\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/my-header-loader/my-header-loader.ts","import { NgModule } from '@angular/core';\nimport { SafeHtmlPipe } from './../pipes/safe-html/safe-html';\nimport { ShowTwoTimePipe } from './show-two-time/show-two-time';\nimport { FormatDatePipe } from './../pipes/format-date/format-date';\nimport { FormatHashtagPipe } from './../pipes/format-hashtag/format-hashtag';\nimport { FormatLikesPipe } from './format-likes/format-likes';\nimport { FormatLikeIconPipe } from './format-like-icon/format-like-icon';\nimport { RemoveDuplicateStationPipe } from './remove-duplicate-station/remove-duplicate-station';\nimport { CalculateDistancePipe } from './calculate-distance/calculate-distance';\nimport { FormatColorIconPipe } from './format-color-icon/format-color-icon';\nimport { FormatBackgroundNotifPipe } from './format-background-notif/format-background-notif';\nimport { FormatNumberNotificationPipe } from './format-number-notification/format-number-notification';\nimport { FormatTypeNotificationPipe } from './format-type-notification/format-type-notification';\n@NgModule({\n    declarations: [SafeHtmlPipe,\n    ShowTwoTimePipe,\n    CalculateDistancePipe,    \n    RemoveDuplicateStationPipe,\n    FormatDatePipe,\n    FormatHashtagPipe,\n    FormatLikesPipe,\n    FormatLikeIconPipe,\n    FormatColorIconPipe,\n    FormatBackgroundNotifPipe,\n    FormatNumberNotificationPipe,\n    FormatTypeNotificationPipe],\n\timports: [],\n    exports: [SafeHtmlPipe,\n    ShowTwoTimePipe,\n    CalculateDistancePipe,     \n    RemoveDuplicateStationPipe,\n    FormatDatePipe,\n    FormatHashtagPipe,\n    FormatLikesPipe,\n    FormatLikeIconPipe,\n    FormatColorIconPipe,\n    FormatBackgroundNotifPipe,\n    FormatNumberNotificationPipe,\n    FormatTypeNotificationPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n/**\n * Generated class for the SafeHtmlPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'safeHtml',\n})\nexport class SafeHtmlPipe implements PipeTransform {\n\n  constructor(private sanitizer:DomSanitizer){}\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(value: string, ...args) {\n    this.sanitizer.bypassSecurityTrustHtml(value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/safe-html/safe-html.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the ShowTwoTimePipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'showTwoTime',\n})\nexport class ShowTwoTimePipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(lstTemps: string, ...args) {\n    if(lstTemps.length == 2){\n      return lstTemps[0]+\" \"+lstTemps[1];\n    }else{\n      return lstTemps[0]\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/show-two-time/show-two-time.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport * as moment from 'moment'\n\n/**\n * Generated class for the FormatDatePipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'formatDate',\n})\nexport class FormatDatePipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(timestamp: number, mode:String) {\n    if(timestamp){\n      let timestampStr = timestamp.toString().replace(\"-\",\"\");\n      timestamp = Number(timestampStr);\n      var day = moment(timestamp);\n      if(mode == \"relative\"){\n        return day.fromNow();\n      }else if(mode == \"calendar\"){\n        return day.calendar();\n      }\n\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-date/format-date.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FormatHashtagPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'formatHashtag',\n})\nexport class FormatHashtagPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(value: string, ...args) {\n    let message = value;\n    let rx = /\\b(?:(?:https?|ftps?):\\/\\/|www\\.)\\S+|#(\\w+)\\b/gi;\n    let m;\n    while ((m = rx.exec(value)) !== null) {\n      if (m[1]){\n        message = message.replace(\"#\"+m[1],\"<span class='hashtag'>#\"+m[1]+\"</span>\");\n      }\n   }\n\n    return message;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-hashtag/format-hashtag.ts","import { Pipe, PipeTransform } from '@angular/core';\n/**\n * Generated class for the FormatLikesPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'formatLikes',\n})\nexport class FormatLikesPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(likes: string[]) {\n    if(likes){\n      return likes.length\n    }else{\n      return 0;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-likes/format-likes.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport * as _ from 'lodash'\n\n/**\n * Generated class for the FormatLikeIconPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'formatLikeIcon',\n})\nexport class FormatLikeIconPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(likes: string[], userUid:string) {\n\n    const index = _.indexOf(likes, userUid);\n    if(index < 0){\n      return 'ios-thumbs-up-outline';\n    }else{\n      return 'thumbs-up';\n    }\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-like-icon/format-like-icon.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { Station } from '../../models/station';\n\nimport * as _ from 'lodash';\n\n/**\n * Generated class for the RemoveDuplicateStationPipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'removeDuplicateStation',\n})\nexport class RemoveDuplicateStationPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(stations: Station[], ...args) {\n    return _.uniqWith(stations, function(first, second){\n      return first.name === second.name;\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/remove-duplicate-station/remove-duplicate-station.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the CalculateDistancePipe pipe.\n *\n * See https://angular.io/docs/ts/latest/guide/pipes.html for more info on\n * Angular Pipes.\n */\n@Pipe({\n  name: 'calculateDistance',\n})\nexport class CalculateDistancePipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(latLong: string, myLatitude:string, myLongitude:string) {\n    let latLongLst = latLong.split(\";\");\n    let latitude = latLongLst[0];\n    let longitude = latLongLst[1];\n    let p = Math.PI / 180;\n    let c = Math.cos;\n    let a = 0.5 - c((Number(myLatitude)-Number(latitude)) * p) / 2 + c(Number(latitude) * p) *c((Number(myLatitude)) * p) * (1 - c(((Number(myLongitude)- Number(longitude)) * p))) / 2;\n    let dis = (12742 * Math.asin(Math.sqrt(a))); // 2 * R; R = 6371 km\n    if(dis > 1){\n      return Math.round(dis)+\" Km\";\n    }else{\n      return Math.round(dis * 1000)+\" m\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/calculate-distance/calculate-distance.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport * as _ from 'lodash'\n\n/**\n * Generated class for the FormatColorIconPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'formatColorIcon',\n})\nexport class FormatColorIconPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(likes: string[], userUid:string) {\n    const index = _.indexOf(likes, userUid);\n    if(index < 0){\n      return 'grey';\n    }else{\n      return 'blue';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-color-icon/format-color-icon.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FormatBackgroundNotifPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'formatBackgroundNotif',\n})\nexport class FormatBackgroundNotifPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(read: boolean, ...args) {\n    if(read){\n      return \"background-notification-read border-bottom item item-block item-ios\";\n    }\n    return \"background-notification-noRead border-bottom item item-block item-ios\";\n    \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-background-notif/format-background-notif.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FormatNumberNotificationPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'formatNumberNotification',\n})\nexport class FormatNumberNotificationPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(value: number) {\n    if(value > 0){\n      return value;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-number-notification/format-number-notification.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FormatTypeNotificationPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'formatTypeNotification',\n})\nexport class FormatTypeNotificationPipe implements PipeTransform {\n  /**\n   * Takes a value and makes it lowercase.\n   */\n  transform(type: string) {\n    if(type == \"LIKE\"){\n      return \"NOTIF_LIKE_SPOT\";\n    }\n    return \"NOTIF_COMMENT_SPOT\";\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/format-type-notification/format-type-notification.ts","\"use strict\";\nvar __extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar Subject_1 = require('./Subject');\nvar ObjectUnsubscribedError_1 = require('./util/ObjectUnsubscribedError');\n/**\n * @class BehaviorSubject<T>\n */\nvar BehaviorSubject = (function (_super) {\n    __extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        _super.call(this);\n        this._value = _value;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError_1.ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject_1.Subject));\nexports.BehaviorSubject = BehaviorSubject;\n//# sourceMappingURL=BehaviorSubject.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/rxjs/BehaviorSubject.js\n// module id = 723\n// module chunks = 0 1","import { Component, ViewChild } from '@angular/core';\nimport { NavController, NavParams, IonicPage } from 'ionic-angular';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { SpotProvider } from '../../providers/spot/spotProvider';\nimport { Storage } from '@ionic/storage';\nimport { Observable } from 'rxjs/Observable';\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nimport * as _ from 'lodash'\nimport { UserProvider } from '../../providers/user/userProvider';\nimport { Subscription } from 'rxjs/Subscription';\nimport { HashtagHisto } from '../../models/hashtagHisto';\n\n/**\n * Generated class for the SpotFilterPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-spot-filter',\n  templateUrl: 'spot-filter.html',\n})\nexport class SpotFilterPage {\n\n  @ViewChild('searchBar') searchBar: any; \n  hashtags:Observable<any>;\n  hashtagsHistory:any = [];\n  hashtagKeySelected: any;\n  searchBarModel: string;\n\n  loading: any;\n  spotsFiltered = new BehaviorSubject([]);\n  batch = 15        // size of each query\n  finished = false  // boolean when end of database is reached\n  userUid: any;\n  isHistorySearch: boolean = false;\n  subscription: Subscription;\n\n  lastKey = null;\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public Keyboard: Keyboard,\n              public spotProvider: SpotProvider,\n              public userProvider: UserProvider,\n              public storage: Storage) {\n\n                this.loading = true;\n\n                this.storage.get('userUid')\n                .then((userUid) => {\n                  if (userUid) {\n                    this.userUid = userUid;\n                    this.isHistorySearch = true;\n                    this.getHistoryHashtags(this.userUid);\n                  }else{\n                    this.userUid = null;\n                  }\n                })  \n\n                this.doFocus();\n                \n  }\n\n  ionViewWillLeave() {\n    if(this.subscription){\n      this.subscription.unsubscribe();\n    }\n  }\n\n  getHistoryHashtags(userUid:string){\n    this.loading = true;\n    this.hashtagsHistory = [];\n    this.hashtags = this.userProvider.getHistoryHashtags(userUid).snapshotChanges().map(hashtagsHisto => {\n      return hashtagsHisto.map(h => {\n        const data = h.payload.doc.data();\n        const id = h.payload.doc.id;\n        this.hashtagsHistory.push({ id, ...data });\n        return { id, ...data };\n      });\n    }).do(hashtagsHisto => {\n      this.loading = false;\n    })\n  }\n\n  fetchHashtag(hashtag:string){\n    this.hashtags = this.spotProvider.fetchHashtag(hashtag.toLowerCase()).snapshotChanges().map(hashtags => {\n      return hashtags.map(h => {\n        const data = h.payload.doc.data();\n        const id = h.payload.doc.id;\n        return { id, ...data };\n      });\n    })\n  }\n\n  clearSearchBar(){\n    this.searchBarModel = null;\n    this.hashtagKeySelected = null;\n    this.lastKey = null;\n    this.spotsFiltered = new BehaviorSubject([]);\n    this.isHistorySearch = true;\n    this.getHistoryHashtags(this.userUid);\n  }\n\n  onClickSearchBar(){\n    if(this.hashtagKeySelected != null){\n      this.hashtagKeySelected = null;\n      this.searchBarModel = null;\n      this.isHistorySearch = true;\n      this.getHistoryHashtags(this.userUid);\n    }\n  }\n\n  getItems(ev) {\n    this.loading = false;\n    this.isHistorySearch = false;\n    // set val to the value of the ev target\n    let value = ev.target.value;\n\n    // if the value is an empty string don't filter the items\n    if (value && value.trim() != '') {\n      this.fetchHashtag(value);\n    }else{\n      this.clearSearchBar();\n    }\n  }\n\n  doSearch(hashtag){\n    this.finished = false;\n    this.searchBarModel = hashtag.name;\n    this.hashtagKeySelected = hashtag.id;\n    this.lastKey = null;\n    this.spotsFiltered = new BehaviorSubject([]);\n\n    if(this.hashtagsHistory.length >= 4 && !_.find(this.hashtagsHistory, {'id':this.hashtagKeySelected})){\n     const lastHistoryTag = _.last(this.hashtagsHistory);\n     this.userProvider.removeHistoryHashtag(this.userUid,lastHistoryTag.id);\n    }\n    \n    const hashtagHisto:HashtagHisto = {\n      name:hashtag.name,\n      tag:hashtag.tag\n    }\n    if(hashtag.icon){\n      hashtagHisto.icon = hashtag.icon;\n    }\n    this.userProvider.addHistoryHashtag(this.userUid,hashtag.id,hashtagHisto);\n    this.getSpotsFiltered(null);\n  }\n\n  doInfinite(infiniteScroll) {\n    if(this.hashtagKeySelected){\n      this.getSpotsFiltered(infiniteScroll);\n    }\n  }\n\n\n  private getSpotsFiltered(infiniteScroll){\n    this.loading = true;\n    if (this.finished){\n      this.loading = false;\n      if(infiniteScroll){\n        infiniteScroll.complete();\n      }\n      return\n    } \n    const getSpotList = this.spotProvider.fetchSpots(this.hashtagKeySelected,this.lastKey,this.batch+1).do(item => {\n      let lastSpot = _.last(item.spots);\n      if(lastSpot){\n        this.lastKey = lastSpot.ref.id;\n        \n        const newSpots = _.slice(item.spots, 0, this.batch);\n        const currentSpots = this.spotsFiltered.getValue();\n        let lastNewSpot = _.last(newSpots);\n  \n        if (this.lastKey == lastNewSpot.ref.id) {\n          this.finished = true\n        }\n        const newSpotList = _.map(newSpots,\"spot\");\n        this.spotsFiltered.next(_.concat(currentSpots,newSpotList));\n      }\n\n    });\n      this.subscription = getSpotList.subscribe(() => {\n        if(infiniteScroll){\n          this.loading = false;\n          infiniteScroll.complete();\n        }else{\n          this.loading = false;\n        }\n      })\n  }\n\n  goDetailSpot(event){\n    let spotId = event.currentTarget.id;\n    this.navCtrl.push('SpotDetailPage', {spotKey : spotId});\n  }\n\n  doFocus(){\n    setTimeout(()=>{\n      this.searchBar.setFocus();\n      this.Keyboard.show();\n    },1000);\n\n\n    this.Keyboard.onKeyboardShow().subscribe((data)=>{\n      this.searchBar.setFocus();\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/spot-filter/spot-filter.ts"],"sourceRoot":""}